webpackJsonp([0],{"/vMR":function(t,e){},0:function(t,e){},"5Cq5":function(t,e){},DtkZ:function(t,e){},FS7h:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r=a("/ocq"),n=a("8+8L"),o=(a("7t+N"),a("qb6w"),a("Bb4J"),{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-default"},[a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbar"}},[a("ul",{staticClass:"nav navbar-nav"},[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("主页")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/about"}},[t._v("关于我们")])],1)]),t._v(" "),a("ul",{staticClass:"nav navbar-nav navbar-right"},[a("li",[a("router-link",{attrs:{to:"/adduser"}},[t._v("添加用户")])],1)])])])]),t._v(" "),a("router-view")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-header"},[a("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"})]),t._v(" "),a("a",{staticClass:"navbar-brand",attrs:{href:"javascript:;"}},[t._v("用户管理系统")])])}]});var i=a("VU/8")({name:"App"},o,!1,function(t){a("5Cq5")},null,null).exports,l={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"alert alert-warning alert-dismissible",attrs:{role:"alert"}},[t._m(0),t._v("\n  "+t._s(t.message)+"\n")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]};var u=a("VU/8")({name:"alert",props:["message"],data:function(){return{}}},l,!1,function(t){a("TVqR")},"data-v-b2a36e4e",null).exports,c={name:"userdetail",data:function(){return{user:{},companyName:""}},methods:{getUser:function(t){var e=this;this.$http.get("http://localhost:3000/users/"+t).then(function(t){e.user=t.body,e.getCompany(e.user.companyId)})},getCompany:function(t){var e=this;this.$http.get("http://localhost:3000/companies/"+t).then(function(t){e.companyName=t.body.name})},deleteUser:function(){var t=this;this.$http.delete("http://localhost:3000/users/"+this.user.id).then(function(e){console.log(e),t.$router.push({path:"/",query:{message:"用户删除成功"}})})}},created:function(){this.getUser(this.$route.params.id)}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userdetail container"},[a("router-link",{staticClass:"btn btn-default",attrs:{to:"/"}},[t._v("返回")]),t._v(" "),a("h2",{staticClass:"page-header"},[t._v("\n      "+t._s(t.user.name)+"\n      "),a("span",{staticClass:"pull-right"},[a("router-link",{staticClass:"btn btn-primary ",attrs:{to:"/edituser/"+t.user.id}},[t._v("编辑")]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:t.deleteUser}},[t._v("删除")])],1)]),t._v(" "),a("ul",{staticClass:"list-group"},[a("li",{staticClass:"glyphicon glyphicon-phone list-group-item"},[t._v(" "+t._s(t.user.phone))]),t._v(" "),a("li",{staticClass:"glyphicon glyphicon-envelope list-group-item"},[t._v(" "+t._s(t.user.email))])]),t._v(" "),a("ul",{staticClass:"list-group"},[a("li",{staticClass:"glyphicon glyphicon-record list-group-item"},[t._v(" "+t._s(t.user.age))]),t._v(" "),a("li",{staticClass:"glyphicon glyphicon-lock list-group-item"},[t._v(" "+t._s(t.companyName))])])],1)},staticRenderFns:[]};var p=a("VU/8")(c,m,!1,function(t){a("FS7h")},"data-v-90e3ce58",null).exports,v={name:"customers",data:function(){return{customers:[],message:"",filterInput:""}},components:{Alert:u,UserDetail:p},methods:{getUsers:function(){var t=this;this.$http.get("http://localhost:3000/users").then(function(e){console.log(e),t.customers=e.body})},filterUsers:function(t,e){return t.filter(function(t){return name=t.name,name.match(e)})}},created:function(){this.$route.query.message&&(this.message=this.$route.query.message),this.getUsers()},updated:function(){}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customers container"},[this.message?a("Alert",{attrs:{message:this.message}}):t._e(),t._v(" "),a("h1",{staticClass:"page-header"},[t._v("用户管理系统")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterInput,expression:"filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"search"},domProps:{value:t.filterInput},on:{input:function(e){e.target.composing||(t.filterInput=e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",t._l(t.filterUsers(t.customers,t.filterInput),function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(e.email))]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-default",attrs:{to:"/customerDetail/"+e.id}},[t._v("详情")])],1)])}))])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("姓名")]),t._v(" "),a("th",[t._v("电话")]),t._v(" "),a("th",[t._v("邮箱")]),t._v(" "),a("th")])])}]};var h=a("VU/8")(v,d,!1,function(t){a("n2Fa")},"data-v-6b0dcf1e",null).exports,f={name:"adduser",data:function(){return{user:{},companies:[],message:""}},components:{Alert:u},methods:{addUser:function(t){if(this.user.name&&this.user.phone){var e={name:this.user.name,phone:this.user.phone,email:this.user.email,age:this.user.age,companyId:this.user.companyId};this.$http.post("http://localhost:3000/users",e).then(function(t){this.$router.push({path:"/",query:{message:"用户信息添加成功"}})})}else this.message="姓名和电话不能为空";t.preventDefault()}},created:function(){this.$http.get("http://localhost:3000/companies").then(function(t){this.companies=t.body})}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adduser container"},[this.message?a("Alert",{attrs:{message:this.message}}):t._e(),t._v(" "),a("h1",{staticClass:"page-header"},[t._v("添加用户")]),t._v(" "),a("form",{staticClass:"well",on:{submit:t.addUser}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"phone"}},[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone",placeholder:"Phone number"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email@"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"age"}},[t._v("年龄")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.age,expression:"user.age"}],staticClass:"form-control",attrs:{type:"number",id:"age",placeholder:"0"},domProps:{value:t.user.age},on:{input:function(e){e.target.composing||t.$set(t.user,"age",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"company"}},[t._v("公司")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.companyId,expression:"user.companyId"}],staticClass:"form-control",attrs:{id:"company"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"companyId",e.target.multiple?a:a[0])}}},t._l(t.companies,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))]),t._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"添加"}})])],1)},staticRenderFns:[]};var g=a("VU/8")(f,_,!1,function(t){a("/vMR")},"data-v-8d338cac",null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about container"},[a("div",{staticClass:"jumbotron"},[a("h1",[t._v("关于我们")]),t._v(" "),a("p",[t._v("请联系我们")])])])}]};var y=a("VU/8")({name:"about",data:function(){return{}}},b,!1,function(t){a("tSYx")},"data-v-1efb6446",null).exports,C={name:"adduser",data:function(){return{user:{},companies:[],message:""}},components:{Alert:u},methods:{getUser:function(t){var e=this;this.$http.get("http://localhost:3000/users/"+t).then(function(t){e.user=t.body,e.getCompany(e.user.companyId)})},getCompany:function(t){var e=this;this.$http.get("http://localhost:3000/companies/"+t).then(function(t){e.companyName=t.body.name})},updateUser:function(t){if(this.user.name&&this.user.phone){var e={name:this.user.name,phone:this.user.phone,email:this.user.email,age:this.user.age,companyId:this.user.companyId};this.$http.put("http://localhost:3000/users/"+this.user.id,e).then(function(t){this.$router.push({path:"/",query:{message:"用户信息修改成功"}})})}else this.message="姓名和电话不能为空";t.preventDefault()}},created:function(){this.$http.get("http://localhost:3000/companies").then(function(t){this.companies=t.body}),this.getUser(this.$route.params.id)}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edituser container"},[this.message?a("Alert",{attrs:{message:this.message}}):t._e(),t._v(" "),a("h1",{staticClass:"page-header"},[t._v("编辑用户")]),t._v(" "),a("form",{staticClass:"well",on:{submit:t.updateUser}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"phone"}},[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone",placeholder:"Phone number"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email@"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"age"}},[t._v("年龄")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.age,expression:"user.age"}],staticClass:"form-control",attrs:{type:"number",id:"age",placeholder:"0"},domProps:{value:t.user.age},on:{input:function(e){e.target.composing||t.$set(t.user,"age",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"company"}},[t._v("公司")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.companyId,expression:"user.companyId"}],staticClass:"form-control",attrs:{id:"company"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.user,"companyId",e.target.multiple?a:a[0])}}},t._l(t.companies,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))]),t._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"保存"}})])],1)},staticRenderFns:[]};var x=a("VU/8")(C,$,!1,function(t){a("DtkZ")},"data-v-ddc19ee0",null).exports;s.a.config.productionTip=!1,s.a.use(r.a),s.a.use(n.a);var U=new r.a({mode:"history",base:"/vue/",routes:[{path:"/",component:h},{path:"/about",component:y},{path:"/adduser",component:g},{path:"/customerDetail/:id",component:p},{path:"/edituser/:id",component:x}]});new s.a({router:U,el:"#app",components:{App:i},template:"<App/>"})},TVqR:function(t,e){},n2Fa:function(t,e){},qb6w:function(t,e){},tSYx:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4289b6e29e183db96f62.js.map